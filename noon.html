<html>
<head>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
<title>heatmap.js GMaps Heatmap Layer</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<style>
			body, html {
				margin:0;
				padding:0;
				font-family:Arial;
			}
			h1 {
				margin-bottom:10px;
			}
			#main {
				position:relative;
				width:1020px;
				padding:20px;
				margin:auto;
			}
			#heatmapArea {
				position:relative;
				float:left;
				width:800px;
				height:600px;
				border:1px dashed black;
			}
			#configArea {
				position:relative;
				float:left;
				width:200px;
				padding:15px;
				padding-top:0;
				padding-right:0;
			}
			.btn {
				margin-top:25px;
				padding:10px 20px 10px 20px;
				-moz-border-radius:15px;
				-o-border-radius:15px;
				-webkit-border-radius:15px;
				border-radius:15px;
				border:2px solid black;
				cursor:pointer;
				color:white;
				background-color:black;
			}
			#gen:hover{
				background-color:grey;
				color:black;
			}
			textarea{
				width:260px;
				padding:10px;
				height:200px;
			}
			h2{
				margin-top:0;
			}
		</style>
<link rel="shortcut icon" type="image/png" href="http://www.patrick-wied.at/img/favicon.png" />
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>

</head>
<body>
<div id="main">
			<h1>GMaps Heatmap Overlay</h1>
			<a href="http://www.patrick-wied.at/static/heatmapjs/" title="heatmap.js">Back to the project page</a><br /><br />
			<div id="heatmapArea">
			
			</div>
			<div id="configArea">
				<h2>Sidenotes</h2>
				This is a demonstration of a canvas heatmap gmaps overlay<br /><br />
				<strong>Note: this is an early release of the heatmap layer. Please feel free to <a href="https://github.com/pa7/heatmap.js" target="_blank">contribute patches</a>. (e.g: correct datapoint pixels after dragrelease (in draw))</strong>
				<div id="tog" class="btn">Toggle HeatmapOverlay</div>
				<div id="gen" class="btn">Add 5 random lat/lng coordinates</div>
			</div>
			
<div style="position:absolute;width:940px;top:750px;text-align:center;"><a href="http://www.patrick-wied.at/static/heatmapjs/">heatmap.js</a> by <a href="http://www.patrick-wied.at" target="_blank">Patrick Wied</a></div>

</div>
<script type="text/javascript" src="../../src/heatmap.js"></script>
<script type="text/javascript" src="../../src/heatmap-gmaps.js"></script>
<script type="text/javascript">

var map;
var heatmap; 

window.onload = function(){

	var myLatlng = new google.maps.LatLng(48.3333, 16.35);
	// sorry - this demo is a beta
	// there is lots of work todo
	// but I don't have enough time for eg redrawing on dragrelease right now
	var myOptions = {
	  zoom: 2,
	  center: myLatlng,
	  mapTypeId: google.maps.MapTypeId.ROADMAP,
	  disableDefaultUI: false,
	  scrollwheel: true,
	  draggable: true,
	  navigationControl: true,
	  mapTypeControl: false,
	  scaleControl: true,
	  disableDoubleClickZoom: false
	};
	map = new google.maps.Map(document.getElementById("heatmapArea"), myOptions);
	
	heatmap = new HeatmapOverlay(map, {"radius":15, "visible":true, "opacity":60});
	
	document.getElementById("gen").onclick = function(){
		var x = 5;
		while(x--){
		
			var lat = Math.random()*180;
			var lng = Math.random()*180;
			var count = Math.floor(Math.random()*180+1);
			
			heatmap.addDataPoint(lat,lng,count);
		
		}
	
	};
	
	document.getElementById("tog").onclick = function(){
		heatmap.toggle();
	};
	
	var testData={
    		max: 46,
            data: [{lat: 40.701108, lng:-74.0273485, count: 0}, {lat: 40.701108, lng:-74.0478655, count: 0}, {lat: 40.701108, lng:-74.0341875, count: 0}, {lat: 40.701108, lng:-74.0205095, count: 1}, {lat: 40.701108, lng:-74.0410265, count: 1}, {lat: 40.701108, lng:-74.0136705, count: 20}, {lat: 40.701108, lng:-74.0068315, count: 8}, {lat: 40.701108, lng:-73.9999925, count: 1}, {lat: 40.701108, lng:-73.9931535, count: 1}, {lat: 40.701108, lng:-73.9863145, count: 3}, {lat: 40.701108, lng:-73.9794755, count: 1}, {lat: 40.701108, lng:-73.9726365, count: 0}, {lat: 40.701108, lng:-73.9589585, count: 0}, {lat: 40.701108, lng:-73.9657975, count: 2}, {lat: 40.701108, lng:-73.9452805, count: 2}, {lat: 40.701108, lng:-73.9521195, count: 1}, {lat: 40.701108, lng:-73.9247635, count: 0}, {lat: 40.701108, lng:-73.9316025, count: 0}, {lat: 40.701108, lng:-73.9384415, count: 1}, {lat: 40.701108, lng:-73.9179245, count: 0}, {lat: 40.701108, lng:-73.9110855, count: 1}, {lat: 40.701108, lng:-73.9042465, count: 0}, {lat: 40.701108, lng:-73.8974075, count: 1}, {lat: 40.701108, lng:-73.8905685, count: 0}, {lat: 40.701108, lng:-73.8837295, count: 0}, {lat: 40.701108, lng:-73.8768905, count: 0}, {lat: 40.705602, lng:-74.0478655, count: 0}, {lat: 40.705602, lng:-74.0410265, count: 0}, {lat: 40.705602, lng:-74.0341875, count: 0}, {lat: 40.705602, lng:-74.0273485, count: 0}, {lat: 40.705602, lng:-74.0205095, count: 2}, {lat: 40.705602, lng:-74.0136705, count: 28}, {lat: 40.705602, lng:-73.9999925, count: 5}, {lat: 40.705602, lng:-74.0068315, count: 29}, {lat: 40.705602, lng:-73.9931535, count: 18}, {lat: 40.705602, lng:-73.9794755, count: 1}, {lat: 40.705602, lng:-73.9657975, count: 0}, {lat: 40.705602, lng:-73.9863145, count: 8}, {lat: 40.705602, lng:-73.9726365, count: 1}, {lat: 40.705602, lng:-73.9589585, count: 0}, {lat: 40.705602, lng:-73.9521195, count: 1}, {lat: 40.705602, lng:-73.9452805, count: 1}, {lat: 40.705602, lng:-73.9384415, count: 1}, {lat: 40.705602, lng:-73.9316025, count: 1}, {lat: 40.705602, lng:-73.9247635, count: 0}, {lat: 40.705602, lng:-73.9110855, count: 0}, {lat: 40.705602, lng:-73.8905685, count: 1}, {lat: 40.705602, lng:-73.8974075, count: 1}, {lat: 40.705602, lng:-73.9179245, count: 0}, {lat: 40.705602, lng:-73.8837295, count: 2}, {lat: 40.710096, lng:-74.0478655, count: 0}, {lat: 40.705602, lng:-73.8768905, count: 0}, {lat: 40.710096, lng:-74.0410265, count: 0}, {lat: 40.710096, lng:-74.0341875, count: 3}, {lat: 40.710096, lng:-74.0273485, count: 0}, {lat: 40.710096, lng:-74.0205095, count: 0}, {lat: 40.710096, lng:-74.0068315, count: 32}, {lat: 40.710096, lng:-74.0136705, count: 23}, {lat: 40.705602, lng:-73.9042465, count: 0}, {lat: 40.710096, lng:-73.9999925, count: 3}, {lat: 40.710096, lng:-73.9931535, count: 12}, {lat: 40.710096, lng:-73.9863145, count: 2}, {lat: 40.710096, lng:-73.9794755, count: 0}, {lat: 40.710096, lng:-73.9657975, count: 2}, {lat: 40.710096, lng:-73.9589585, count: 3}, {lat: 40.710096, lng:-73.9521195, count: 5}, {lat: 40.710096, lng:-73.9452805, count: 4}, {lat: 40.710096, lng:-73.9726365, count: 1}, {lat: 40.710096, lng:-73.9316025, count: 1}, {lat: 40.710096, lng:-73.9247635, count: 0}, {lat: 40.710096, lng:-73.9179245, count: 0}, {lat: 40.710096, lng:-73.9110855, count: 0}, {lat: 40.710096, lng:-73.8974075, count: 0}, {lat: 40.710096, lng:-73.8905685, count: 1}, {lat: 40.710096, lng:-73.9042465, count: 0}, {lat: 40.710096, lng:-73.8837295, count: 1}, {lat: 40.710096, lng:-73.8768905, count: 1}, {lat: 40.710096, lng:-73.9384415, count: 1}, {lat: 40.71459, lng:-74.0478655, count: 2}, {lat: 40.71459, lng:-74.0410265, count: 1}, {lat: 40.71459, lng:-74.0341875, count: 14}, {lat: 40.71459, lng:-74.0273485, count: 0}, {lat: 40.71459, lng:-74.0205095, count: 0}, {lat: 40.71459, lng:-74.0136705, count: 83}, {lat: 40.71459, lng:-73.9999925, count: 1}, {lat: 40.71459, lng:-73.9931535, count: 0}, {lat: 40.71459, lng:-73.9863145, count: 1}, {lat: 40.71459, lng:-74.0068315, count: 14}, {lat: 40.71459, lng:-73.9726365, count: 6}, {lat: 40.71459, lng:-73.9794755, count: 0}, {lat: 40.71459, lng:-73.9657975, count: 7}, {lat: 40.71459, lng:-73.9589585, count: 2}, {lat: 40.71459, lng:-73.9521195, count: 3}, {lat: 40.71459, lng:-73.9452805, count: 3}, {lat: 40.71459, lng:-73.9384415, count: 0}, {lat: 40.71459, lng:-73.9316025, count: 0}, {lat: 40.71459, lng:-73.9247635, count: 0}, {lat: 40.71459, lng:-73.9179245, count: 0}, {lat: 40.71459, lng:-73.9110855, count: 0}, {lat: 40.71459, lng:-73.9042465, count: 0}, {lat: 40.71459, lng:-73.8974075, count: 0}, {lat: 40.71459, lng:-73.8905685, count: 0}, {lat: 40.71459, lng:-73.8837295, count: 0}, {lat: 40.71459, lng:-73.8768905, count: 1}, {lat: 40.719084, lng:-74.0478655, count: 0}, {lat: 40.719084, lng:-74.0410265, count: 7}, {lat: 40.719084, lng:-74.0341875, count: 8}, {lat: 40.719084, lng:-74.0273485, count: 0}, {lat: 40.719084, lng:-74.0205095, count: 0}, {lat: 40.719084, lng:-74.0136705, count: 18}, {lat: 40.719084, lng:-74.0068315, count: 29}, {lat: 40.719084, lng:-73.9999925, count: 18}, {lat: 40.719084, lng:-73.9931535, count: 3}, {lat: 40.719084, lng:-73.9794755, count: 0}, {lat: 40.719084, lng:-73.9863145, count: 5}, {lat: 40.719084, lng:-73.9726365, count: 0}, {lat: 40.719084, lng:-73.9657975, count: 2}, {lat: 40.719084, lng:-73.9589585, count: 8}, {lat: 40.719084, lng:-73.9521195, count: 4}, {lat: 40.719084, lng:-73.9452805, count: 1}, {lat: 40.719084, lng:-73.9384415, count: 0}, {lat: 40.719084, lng:-73.9316025, count: 0}, {lat: 40.719084, lng:-73.9247635, count: 0}, {lat: 40.719084, lng:-73.9179245, count: 1}, {lat: 40.719084, lng:-73.9110855, count: 0}, {lat: 40.719084, lng:-73.8974075, count: 0}, {lat: 40.719084, lng:-73.8905685, count: 0}, {lat: 40.719084, lng:-73.8837295, count: 0}, {lat: 40.719084, lng:-73.8768905, count: 2}, {lat: 40.723578, lng:-74.0478655, count: 0}, {lat: 40.723578, lng:-74.0341875, count: 3}, {lat: 40.719084, lng:-73.9042465, count: 0}, {lat: 40.723578, lng:-74.0410265, count: 2}, {lat: 40.723578, lng:-74.0273485, count: 0}, {lat: 40.723578, lng:-74.0205095, count: 0}, {lat: 40.723578, lng:-74.0136705, count: 2}, {lat: 40.723578, lng:-74.0068315, count: 13}, {lat: 40.723578, lng:-73.9931535, count: 15}, {lat: 40.723578, lng:-73.9999925, count: 38}, {lat: 40.723578, lng:-73.9863145, count: 0}, {lat: 40.723578, lng:-73.9794755, count: 1}, {lat: 40.723578, lng:-73.9657975, count: 1}, {lat: 40.723578, lng:-73.9726365, count: 0}, {lat: 40.723578, lng:-73.9521195, count: 0}, {lat: 40.723578, lng:-73.9589585, count: 3}, {lat: 40.723578, lng:-73.9452805, count: 0}, {lat: 40.723578, lng:-73.9384415, count: 0}, {lat: 40.723578, lng:-73.9247635, count: 0}, {lat: 40.723578, lng:-73.9316025, count: 0}, {lat: 40.723578, lng:-73.9179245, count: 1}, {lat: 40.723578, lng:-73.9110855, count: 0}, {lat: 40.723578, lng:-73.9042465, count: 2}, {lat: 40.723578, lng:-73.8974075, count: 1}, {lat: 40.723578, lng:-73.8905685, count: 0}, {lat: 40.723578, lng:-73.8837295, count: 0}, {lat: 40.723578, lng:-73.8768905, count: 0}, {lat: 40.728072, lng:-74.0478655, count: 1}, {lat: 40.728072, lng:-74.0273485, count: 2}, {lat: 40.728072, lng:-74.0341875, count: 9}, {lat: 40.728072, lng:-74.0410265, count: 3}, {lat: 40.728072, lng:-74.0205095, count: 1}, {lat: 40.728072, lng:-74.0136705, count: 0}, {lat: 40.728072, lng:-74.0068315, count: 25}, {lat: 40.728072, lng:-73.9999925, count: 30}, {lat: 40.728072, lng:-73.9931535, count: 81}, {lat: 40.728072, lng:-73.9863145, count: 3}, {lat: 40.728072, lng:-73.9794755, count: 0}, {lat: 40.728072, lng:-73.9657975, count: 0}, {lat: 40.728072, lng:-73.9726365, count: 0}, {lat: 40.728072, lng:-73.9589585, count: 0}, {lat: 40.728072, lng:-73.9521195, count: 1}, {lat: 40.728072, lng:-73.9452805, count: 0}, {lat: 40.728072, lng:-73.9384415, count: 2}, {lat: 40.728072, lng:-73.9316025, count: 0}, {lat: 40.728072, lng:-73.9247635, count: 0}, {lat: 40.728072, lng:-73.9179245, count: 1}, {lat: 40.728072, lng:-73.9110855, count: 1}, {lat: 40.728072, lng:-73.8974075, count: 0}, {lat: 40.728072, lng:-73.9042465, count: 0}, {lat: 40.728072, lng:-73.8905685, count: 1}, {lat: 40.728072, lng:-73.8768905, count: 0}, {lat: 40.728072, lng:-73.8837295, count: 1}, {lat: 40.732566, lng:-74.0478655, count: 3}, {lat: 40.732566, lng:-74.0410265, count: 2}, {lat: 40.732566, lng:-74.0341875, count: 1}, {lat: 40.732566, lng:-74.0273485, count: 5}, {lat: 40.732566, lng:-74.0205095, count: 0}, {lat: 40.732566, lng:-74.0136705, count: 1}, {lat: 40.732566, lng:-74.0068315, count: 11}, {lat: 40.732566, lng:-73.9931535, count: 52}, {lat: 40.732566, lng:-73.9863145, count: 21}, {lat: 40.732566, lng:-73.9794755, count: 3}, {lat: 40.732566, lng:-73.9999925, count: 6}, {lat: 40.732566, lng:-73.9657975, count: 0}, {lat: 40.732566, lng:-73.9589585, count: 0}, {lat: 40.732566, lng:-73.9521195, count: 0}, {lat: 40.732566, lng:-73.9726365, count: 2}, {lat: 40.732566, lng:-73.9452805, count: 0}, {lat: 40.732566, lng:-73.9384415, count: 0}, {lat: 40.732566, lng:-73.9316025, count: 0}, {lat: 40.732566, lng:-73.9110855, count: 0}, {lat: 40.732566, lng:-73.9042465, count: 1}, {lat: 40.732566, lng:-73.8974075, count: 0}, {lat: 40.732566, lng:-73.8837295, count: 1}, {lat: 40.732566, lng:-73.8768905, count: 2}, {lat: 40.732566, lng:-73.9179245, count: 0}, {lat: 40.732566, lng:-73.8905685, count: 1}, {lat: 40.73706, lng:-74.0478655, count: 0}, {lat: 40.73706, lng:-74.0410265, count: 1}, {lat: 40.73706, lng:-74.0205095, count: 0}, {lat: 40.73706, lng:-74.0273485, count: 8}, {lat: 40.73706, lng:-74.0136705, count: 1}, {lat: 40.73706, lng:-74.0068315, count: 6}, {lat: 40.73706, lng:-73.9999925, count: 16}, {lat: 40.73706, lng:-74.0341875, count: 0}, {lat: 40.73706, lng:-73.9931535, count: 49}, {lat: 40.73706, lng:-73.9863145, count: 37}, {lat: 40.73706, lng:-73.9794755, count: 0}, {lat: 40.732566, lng:-73.9247635, count: 1}, {lat: 40.73706, lng:-73.9726365, count: 0}, {lat: 40.73706, lng:-73.9657975, count: 0}, {lat: 40.73706, lng:-73.9589585, count: 2}, {lat: 40.73706, lng:-73.9521195, count: 3}, {lat: 40.73706, lng:-73.9452805, count: 2}, {lat: 40.73706, lng:-73.9384415, count: 1}, {lat: 40.73706, lng:-73.9316025, count: 1}, {lat: 40.73706, lng:-73.9247635, count: 1}, {lat: 40.73706, lng:-73.9110855, count: 1}, {lat: 40.73706, lng:-73.9179245, count: 1}, {lat: 40.73706, lng:-73.8974075, count: 0}, {lat: 40.73706, lng:-73.9042465, count: 1}, {lat: 40.73706, lng:-73.8905685, count: 0}, {lat: 40.73706, lng:-73.8837295, count: 0}, {lat: 40.73706, lng:-73.8768905, count: 0}, {lat: 40.741554, lng:-74.0478655, count: 1}, {lat: 40.741554, lng:-74.0410265, count: 2}, {lat: 40.741554, lng:-74.0341875, count: 0}, {lat: 40.741554, lng:-74.0205095, count: 0}, {lat: 40.741554, lng:-74.0273485, count: 3}, {lat: 40.741554, lng:-74.0068315, count: 20}, {lat: 40.741554, lng:-74.0136705, count: 0}, {lat: 40.741554, lng:-73.9999925, count: 28}, {lat: 40.741554, lng:-73.9931535, count: 32}, {lat: 40.741554, lng:-73.9863145, count: 66}, {lat: 40.741554, lng:-73.9794755, count: 6}, {lat: 40.741554, lng:-73.9726365, count: 7}, {lat: 40.741554, lng:-73.9657975, count: 1}, {lat: 40.741554, lng:-73.9589585, count: 1}, {lat: 40.741554, lng:-73.9521195, count: 3}, {lat: 40.741554, lng:-73.9452805, count: 1}, {lat: 40.741554, lng:-73.9384415, count: 0}, {lat: 40.741554, lng:-73.9316025, count: 1}, {lat: 40.741554, lng:-73.9247635, count: 3}, {lat: 40.741554, lng:-73.9179245, count: 3}, {lat: 40.741554, lng:-73.9110855, count: 0}, {lat: 40.741554, lng:-73.9042465, count: 1}, {lat: 40.741554, lng:-73.8837295, count: 0}, {lat: 40.741554, lng:-73.8905685, count: 1}, {lat: 40.741554, lng:-73.8974075, count: 1}, {lat: 40.741554, lng:-73.8768905, count: 0}, {lat: 40.746048, lng:-74.0478655, count: 0}, {lat: 40.746048, lng:-74.0410265, count: 2}, {lat: 40.746048, lng:-74.0341875, count: 1}, {lat: 40.746048, lng:-74.0205095, count: 0}, {lat: 40.746048, lng:-74.0273485, count: 2}, {lat: 40.746048, lng:-74.0136705, count: 0}, {lat: 40.746048, lng:-74.0068315, count: 11}, {lat: 40.746048, lng:-73.9999925, count: 7}, {lat: 40.746048, lng:-73.9931535, count: 32}, {lat: 40.746048, lng:-73.9794755, count: 25}, {lat: 40.746048, lng:-73.9863145, count: 34}, {lat: 40.746048, lng:-73.9726365, count: 4}, {lat: 40.746048, lng:-73.9657975, count: 1}, {lat: 40.746048, lng:-73.9521195, count: 1}, {lat: 40.746048, lng:-73.9589585, count: 5}, {lat: 40.746048, lng:-73.9452805, count: 1}, {lat: 40.746048, lng:-73.9384415, count: 2}, {lat: 40.746048, lng:-73.9247635, count: 2}, {lat: 40.746048, lng:-73.9316025, count: 0}, {lat: 40.746048, lng:-73.9179245, count: 0}, {lat: 40.746048, lng:-73.9110855, count: 0}, {lat: 40.746048, lng:-73.9042465, count: 1}, {lat: 40.746048, lng:-73.8974075, count: 0}, {lat: 40.746048, lng:-73.8837295, count: 2}, {lat: 40.746048, lng:-73.8905685, count: 4}, {lat: 40.746048, lng:-73.8768905, count: 0}, {lat: 40.750542, lng:-74.0478655, count: 0}, {lat: 40.750542, lng:-74.0410265, count: 2}, {lat: 40.750542, lng:-74.0341875, count: 4}, {lat: 40.750542, lng:-74.0273485, count: 1}, {lat: 40.750542, lng:-74.0205095, count: 0}, {lat: 40.750542, lng:-74.0136705, count: 0}, {lat: 40.750542, lng:-74.0068315, count: 1}, {lat: 40.750542, lng:-73.9999925, count: 2}, {lat: 40.750542, lng:-73.9931535, count: 112}, {lat: 40.750542, lng:-73.9863145, count: 53}, {lat: 40.750542, lng:-73.9726365, count: 18}, {lat: 40.750542, lng:-73.9794755, count: 70}, {lat: 40.750542, lng:-73.9657975, count: 1}, {lat: 40.750542, lng:-73.9589585, count: 6}, {lat: 40.750542, lng:-73.9521195, count: 0}, {lat: 40.750542, lng:-73.9452805, count: 1}, {lat: 40.750542, lng:-73.9316025, count: 0}, {lat: 40.750542, lng:-73.9384415, count: 6}, {lat: 40.750542, lng:-73.9247635, count: 0}, {lat: 40.750542, lng:-73.9179245, count: 0}, {lat: 40.750542, lng:-73.9042465, count: 0}, {lat: 40.750542, lng:-73.9110855, count: 1}, {lat: 40.750542, lng:-73.8974075, count: 0}, {lat: 40.750542, lng:-73.8905685, count: 0}, {lat: 40.750542, lng:-73.8837295, count: 2}, {lat: 40.750542, lng:-73.8768905, count: 0}, {lat: 40.755036, lng:-74.0478655, count: 0}, {lat: 40.755036, lng:-74.0410265, count: 0}, {lat: 40.755036, lng:-74.0273485, count: 3}, {lat: 40.755036, lng:-74.0341875, count: 1}, {lat: 40.755036, lng:-74.0205095, count: 1}, {lat: 40.755036, lng:-74.0068315, count: 5}, {lat: 40.755036, lng:-74.0136705, count: 0}, {lat: 40.755036, lng:-73.9999925, count: 6}, {lat: 40.755036, lng:-73.9931535, count: 49}, {lat: 40.755036, lng:-73.9863145, count: 63}, {lat: 40.755036, lng:-73.9794755, count: 79}, {lat: 40.755036, lng:-73.9726365, count: 54}, {lat: 40.755036, lng:-73.9657975, count: 7}, {lat: 40.755036, lng:-73.9589585, count: 3}, {lat: 40.755036, lng:-73.9521195, count: 2}, {lat: 40.755036, lng:-73.9452805, count: 1}, {lat: 40.755036, lng:-73.9384415, count: 0}, {lat: 40.755036, lng:-73.9316025, count: 1}, {lat: 40.755036, lng:-73.9247635, count: 2}, {lat: 40.755036, lng:-73.9179245, count: 4}, {lat: 40.755036, lng:-73.9110855, count: 1}, {lat: 40.755036, lng:-73.9042465, count: 0}, {lat: 40.755036, lng:-73.8974075, count: 1}, {lat: 40.755036, lng:-73.8905685, count: 1}, {lat: 40.755036, lng:-73.8837295, count: 0}, {lat: 40.755036, lng:-73.8768905, count: 0}, {lat: 40.75953, lng:-74.0478655, count: 0}, {lat: 40.75953, lng:-74.0410265, count: 0}, {lat: 40.75953, lng:-74.0341875, count: 0}, {lat: 40.75953, lng:-74.0273485, count: 0}, {lat: 40.75953, lng:-74.0136705, count: 0}, {lat: 40.75953, lng:-74.0205095, count: 2}, {lat: 40.75953, lng:-74.0068315, count: 4}, {lat: 40.75953, lng:-73.9999925, count: 2}, {lat: 40.75953, lng:-73.9931535, count: 31}, {lat: 40.75953, lng:-73.9863145, count: 35}, {lat: 40.75953, lng:-73.9794755, count: 32}, {lat: 40.75953, lng:-73.9726365, count: 34}, {lat: 40.75953, lng:-73.9657975, count: 34}, {lat: 40.75953, lng:-73.9589585, count: 2}, {lat: 40.75953, lng:-73.9521195, count: 3}, {lat: 40.75953, lng:-73.9452805, count: 1}, {lat: 40.75953, lng:-73.9384415, count: 1}, {lat: 40.75953, lng:-73.9316025, count: 1}, {lat: 40.75953, lng:-73.9247635, count: 5}, {lat: 40.75953, lng:-73.9179245, count: 5}, {lat: 40.75953, lng:-73.9110855, count: 2}, {lat: 40.75953, lng:-73.9042465, count: 2}, {lat: 40.75953, lng:-73.8974075, count: 0}, {lat: 40.75953, lng:-73.8905685, count: 1}, {lat: 40.75953, lng:-73.8837295, count: 0}, {lat: 40.75953, lng:-73.8768905, count: 0}, {lat: 40.764024, lng:-74.0478655, count: 0}, {lat: 40.764024, lng:-74.0410265, count: 0}, {lat: 40.764024, lng:-74.0341875, count: 0}, {lat: 40.764024, lng:-74.0273485, count: 3}, {lat: 40.764024, lng:-74.0205095, count: 8}, {lat: 40.764024, lng:-74.0136705, count: 0}, {lat: 40.764024, lng:-73.9999925, count: 3}, {lat: 40.764024, lng:-74.0068315, count: 1}, {lat: 40.764024, lng:-73.9931535, count: 3}, {lat: 40.764024, lng:-73.9863145, count: 28}, {lat: 40.764024, lng:-73.9794755, count: 6}, {lat: 40.764024, lng:-73.9726365, count: 14}, {lat: 40.764024, lng:-73.9657975, count: 27}, {lat: 40.764024, lng:-73.9589585, count: 3}, {lat: 40.764024, lng:-73.9521195, count: 10}, {lat: 40.764024, lng:-73.9452805, count: 0}, {lat: 40.764024, lng:-73.9316025, count: 1}, {lat: 40.764024, lng:-73.9384415, count: 0}, {lat: 40.764024, lng:-73.9247635, count: 2}, {lat: 40.764024, lng:-73.8974075, count: 2}, {lat: 40.764024, lng:-73.8905685, count: 1}, {lat: 40.764024, lng:-73.9110855, count: 3}, {lat: 40.764024, lng:-73.9042465, count: 5}, {lat: 40.764024, lng:-73.8768905, count: 0}, {lat: 40.768518, lng:-74.0478655, count: 0}, {lat: 40.768518, lng:-74.0410265, count: 0}, {lat: 40.768518, lng:-74.0341875, count: 0}, {lat: 40.764024, lng:-73.8837295, count: 0}, {lat: 40.764024, lng:-73.9179245, count: 5}, {lat: 40.768518, lng:-74.0273485, count: 0}, {lat: 40.768518, lng:-74.0205095, count: 0}, {lat: 40.768518, lng:-74.0068315, count: 0}, {lat: 40.768518, lng:-73.9999925, count: 0}, {lat: 40.768518, lng:-73.9931535, count: 0}, {lat: 40.768518, lng:-74.0136705, count: 0}, {lat: 40.768518, lng:-73.9794755, count: 15}, {lat: 40.768518, lng:-73.9726365, count: 1}, {lat: 40.768518, lng:-73.9863145, count: 19}, {lat: 40.768518, lng:-73.9657975, count: 2}, {lat: 40.768518, lng:-73.9589585, count: 3}, {lat: 40.768518, lng:-73.9521195, count: 2}, {lat: 40.768518, lng:-73.9452805, count: 0}, {lat: 40.768518, lng:-73.9384415, count: 0}, {lat: 40.768518, lng:-73.9316025, count: 0}, {lat: 40.768518, lng:-73.9247635, count: 1}, {lat: 40.768518, lng:-73.9179245, count: 3}, {lat: 40.768518, lng:-73.9110855, count: 0}, {lat: 40.768518, lng:-73.9042465, count: 0}, {lat: 40.768518, lng:-73.8905685, count: 0}, {lat: 40.768518, lng:-73.8837295, count: 0}, {lat: 40.768518, lng:-73.8768905, count: 0}, {lat: 40.768518, lng:-73.8974075, count: 0}, {lat: 40.773012, lng:-74.0478655, count: 0}, {lat: 40.773012, lng:-74.0341875, count: 0}, {lat: 40.773012, lng:-74.0273485, count: 0}, {lat: 40.773012, lng:-74.0205095, count: 0}, {lat: 40.773012, lng:-74.0136705, count: 0}, {lat: 40.773012, lng:-74.0068315, count: 0}, {lat: 40.773012, lng:-73.9999925, count: 0}, {lat: 40.773012, lng:-73.9931535, count: 1}, {lat: 40.773012, lng:-73.9863145, count: 5}, {lat: 40.773012, lng:-74.0410265, count: 0}, {lat: 40.773012, lng:-73.9657975, count: 0}, {lat: 40.773012, lng:-73.9794755, count: 6}, {lat: 40.773012, lng:-73.9589585, count: 11}, {lat: 40.773012, lng:-73.9521195, count: 8}, {lat: 40.773012, lng:-73.9384415, count: 0}, {lat: 40.773012, lng:-73.9726365, count: 3}, {lat: 40.773012, lng:-73.9316025, count: 1}, {lat: 40.773012, lng:-73.9247635, count: 1}, {lat: 40.773012, lng:-73.9179245, count: 0}, {lat: 40.773012, lng:-73.9452805, count: 0}, {lat: 40.773012, lng:-73.9110855, count: 7}, {lat: 40.773012, lng:-73.9042465, count: 1}, {lat: 40.773012, lng:-73.8974075, count: 0}, {lat: 40.777506, lng:-74.0478655, count: 0}, {lat: 40.773012, lng:-73.8905685, count: 0}, {lat: 40.777506, lng:-74.0273485, count: 0}, {lat: 40.777506, lng:-74.0205095, count: 0}, {lat: 40.773012, lng:-73.8768905, count: 6}, {lat: 40.777506, lng:-74.0136705, count: 1}, {lat: 40.777506, lng:-74.0410265, count: 1}, {lat: 40.777506, lng:-74.0341875, count: 0}, {lat: 40.777506, lng:-74.0068315, count: 2}, {lat: 40.777506, lng:-73.9931535, count: 2}, {lat: 40.773012, lng:-73.8837295, count: 9}, {lat: 40.777506, lng:-73.9863145, count: 10}, {lat: 40.777506, lng:-73.9794755, count: 6}, {lat: 40.777506, lng:-73.9999925, count: 0}, {lat: 40.777506, lng:-73.9589585, count: 14}, {lat: 40.777506, lng:-73.9521195, count: 17}, {lat: 40.777506, lng:-73.9726365, count: 1}, {lat: 40.777506, lng:-73.9657975, count: 8}, {lat: 40.777506, lng:-73.9452805, count: 1}, {lat: 40.777506, lng:-73.9384415, count: 0}, {lat: 40.777506, lng:-73.9247635, count: 2}, {lat: 40.777506, lng:-73.9110855, count: 2}, {lat: 40.777506, lng:-73.9042465, count: 0}, {lat: 40.777506, lng:-73.8974075, count: 0}, {lat: 40.777506, lng:-73.8905685, count: 0}, {lat: 40.777506, lng:-73.8768905, count: 9}, {lat: 40.777506, lng:-73.9316025, count: 1}, {lat: 40.782, lng:-74.0478655, count: 2}, {lat: 40.777506, lng:-73.9179245, count: 1}, {lat: 40.777506, lng:-73.8837295, count: 0}, {lat: 40.782, lng:-74.0410265, count: 1}, {lat: 40.782, lng:-74.0341875, count: 0}, {lat: 40.782, lng:-74.0273485, count: 1}, {lat: 40.782, lng:-74.0205095, count: 1}, {lat: 40.782, lng:-74.0136705, count: 0}, {lat: 40.782, lng:-74.0068315, count: 1}, {lat: 40.782, lng:-73.9999925, count: 1}, {lat: 40.782, lng:-73.9863145, count: 3}, {lat: 40.782, lng:-73.9794755, count: 3}, {lat: 40.782, lng:-73.9726365, count: 2}, {lat: 40.782, lng:-73.9589585, count: 3}, {lat: 40.782, lng:-73.9657975, count: 2}, {lat: 40.782, lng:-73.9931535, count: 0}, {lat: 40.782, lng:-73.9521195, count: 5}, {lat: 40.782, lng:-73.9452805, count: 5}, {lat: 40.782, lng:-73.9384415, count: 0}, {lat: 40.782, lng:-73.9316025, count: 0}, {lat: 40.782, lng:-73.9179245, count: 2}, {lat: 40.782, lng:-73.9110855, count: 0}, {lat: 40.782, lng:-73.8974075, count: 0}, {lat: 40.782, lng:-73.8905685, count: 0}, {lat: 40.782, lng:-73.8837295, count: 0}, {lat: 40.782, lng:-73.8768905, count: 0}, {lat: 40.782, lng:-73.9042465, count: 0}, {lat: 40.786494, lng:-74.0478655, count: 7}, {lat: 40.782, lng:-73.9247635, count: 1}, {lat: 40.786494, lng:-74.0410265, count: 12}, {lat: 40.786494, lng:-74.0205095, count: 2}, {lat: 40.786494, lng:-74.0068315, count: 1}, {lat: 40.786494, lng:-74.0136705, count: 0}, {lat: 40.786494, lng:-74.0341875, count: 1}, {lat: 40.786494, lng:-73.9999925, count: 1}, {lat: 40.786494, lng:-74.0273485, count: 0}, {lat: 40.786494, lng:-73.9931535, count: 0}, {lat: 40.786494, lng:-73.9863145, count: 0}, {lat: 40.786494, lng:-73.9794755, count: 2}, {lat: 40.786494, lng:-73.9726365, count: 2}, {lat: 40.786494, lng:-73.9657975, count: 1}, {lat: 40.786494, lng:-73.9589585, count: 1}, {lat: 40.786494, lng:-73.9521195, count: 3}, {lat: 40.786494, lng:-73.9384415, count: 0}, {lat: 40.786494, lng:-73.9316025, count: 0}, {lat: 40.786494, lng:-73.9452805, count: 0}, {lat: 40.786494, lng:-73.9179245, count: 1}, {lat: 40.786494, lng:-73.9110855, count: 1}, {lat: 40.786494, lng:-73.9042465, count: 0}, {lat: 40.786494, lng:-73.9247635, count: 0}, {lat: 40.786494, lng:-73.8974075, count: 0}, {lat: 40.786494, lng:-73.8905685, count: 0}, {lat: 40.786494, lng:-73.8837295, count: 0}, {lat: 40.786494, lng:-73.8768905, count: 0}, {lat: 40.790988, lng:-74.0478655, count: 2}, {lat: 40.790988, lng:-74.0410265, count: 5}, {lat: 40.790988, lng:-74.0341875, count: 0}, {lat: 40.790988, lng:-74.0273485, count: 0}, {lat: 40.790988, lng:-74.0136705, count: 0}, {lat: 40.790988, lng:-74.0068315, count: 0}, {lat: 40.790988, lng:-73.9931535, count: 0}, {lat: 40.790988, lng:-73.9999925, count: 0}, {lat: 40.790988, lng:-73.9863145, count: 0}, {lat: 40.790988, lng:-74.0205095, count: 1}, {lat: 40.790988, lng:-73.9794755, count: 2}, {lat: 40.790988, lng:-73.9726365, count: 1}, {lat: 40.790988, lng:-73.9657975, count: 2}, {lat: 40.790988, lng:-73.9589585, count: 3}, {lat: 40.790988, lng:-73.9521195, count: 8}, {lat: 40.790988, lng:-73.9452805, count: 0}, {lat: 40.790988, lng:-73.9384415, count: 0}, {lat: 40.790988, lng:-73.9316025, count: 0}, {lat: 40.790988, lng:-73.9247635, count: 0}, {lat: 40.790988, lng:-73.9179245, count: 0}, {lat: 40.790988, lng:-73.9110855, count: 0}, {lat: 40.790988, lng:-73.9042465, count: 0}, {lat: 40.790988, lng:-73.8974075, count: 0}, {lat: 40.790988, lng:-73.8905685, count: 0}, {lat: 40.790988, lng:-73.8837295, count: 0}, {lat: 40.795482, lng:-74.0410265, count: 0}, {lat: 40.795482, lng:-74.0478655, count: 0}, {lat: 40.795482, lng:-74.0341875, count: 0}, {lat: 40.795482, lng:-74.0273485, count: 0}, {lat: 40.795482, lng:-74.0205095, count: 1}, {lat: 40.795482, lng:-74.0136705, count: 1}, {lat: 40.795482, lng:-74.0068315, count: 0}, {lat: 40.795482, lng:-73.9999925, count: 0}, {lat: 40.790988, lng:-73.8768905, count: 0}, {lat: 40.795482, lng:-73.9931535, count: 0}, {lat: 40.795482, lng:-73.9863145, count: 0}, {lat: 40.795482, lng:-73.9794755, count: 0}, {lat: 40.795482, lng:-73.9726365, count: 2}, {lat: 40.795482, lng:-73.9657975, count: 3}, {lat: 40.795482, lng:-73.9589585, count: 1}, {lat: 40.795482, lng:-73.9521195, count: 0}, {lat: 40.795482, lng:-73.9452805, count: 3}, {lat: 40.795482, lng:-73.9384415, count: 0}, {lat: 40.795482, lng:-73.9316025, count: 1}, {lat: 40.795482, lng:-73.9247635, count: 1}, {lat: 40.795482, lng:-73.9179245, count: 1}, {lat: 40.795482, lng:-73.9110855, count: 0}, {lat: 40.795482, lng:-73.8974075, count: 0}, {lat: 40.795482, lng:-73.9042465, count: 0}, {lat: 40.795482, lng:-73.8905685, count: 0}, {lat: 40.795482, lng:-73.8837295, count: 0}, {lat: 40.795482, lng:-73.8768905, count: 0}, {lat: 40.799976, lng:-74.0478655, count: 0}, {lat: 40.799976, lng:-74.0410265, count: 0}, {lat: 40.799976, lng:-74.0341875, count: 0}, {lat: 40.799976, lng:-74.0273485, count: 1}, {lat: 40.799976, lng:-74.0205095, count: 0}, {lat: 40.799976, lng:-74.0136705, count: 1}, {lat: 40.799976, lng:-74.0068315, count: 1}, {lat: 40.799976, lng:-73.9999925, count: 1}, {lat: 40.799976, lng:-73.9931535, count: 1}, {lat: 40.799976, lng:-73.9794755, count: 0}, {lat: 40.799976, lng:-73.9726365, count: 0}, {lat: 40.799976, lng:-73.9863145, count: 0}, {lat: 40.799976, lng:-73.9657975, count: 0}, {lat: 40.799976, lng:-73.9521195, count: 0}, {lat: 40.799976, lng:-73.9589585, count: 3}, {lat: 40.799976, lng:-73.9452805, count: 0}, {lat: 40.799976, lng:-73.9384415, count: 0}, {lat: 40.799976, lng:-73.9316025, count: 1}, {lat: 40.799976, lng:-73.9247635, count: 1}, {lat: 40.799976, lng:-73.9179245, count: 0}, {lat: 40.799976, lng:-73.9042465, count: 0}, {lat: 40.799976, lng:-73.9110855, count: 1}, {lat: 40.799976, lng:-73.8905685, count: 0}, {lat: 40.799976, lng:-73.8837295, count: 0}, {lat: 40.799976, lng:-73.8768905, count: 0}, {lat: 40.80447, lng:-74.0478655, count: 0}, {lat: 40.799976, lng:-73.8974075, count: 0}, {lat: 40.80447, lng:-74.0341875, count: 0}, {lat: 40.80447, lng:-74.0410265, count: 0}, {lat: 40.80447, lng:-74.0273485, count: 0}, {lat: 40.80447, lng:-74.0205095, count: 0}, {lat: 40.80447, lng:-74.0136705, count: 1}, {lat: 40.80447, lng:-73.9999925, count: 1}, {lat: 40.80447, lng:-73.9931535, count: 1}, {lat: 40.80447, lng:-74.0068315, count: 1}, {lat: 40.80447, lng:-73.9863145, count: 0}, {lat: 40.80447, lng:-73.9794755, count: 0}, {lat: 40.80447, lng:-73.9657975, count: 4}, {lat: 40.80447, lng:-73.9452805, count: 0}, {lat: 40.80447, lng:-73.9521195, count: 1}, {lat: 40.80447, lng:-73.9726365, count: 0}, {lat: 40.80447, lng:-73.9384415, count: 3}, {lat: 40.80447, lng:-73.9589585, count: 5}, {lat: 40.80447, lng:-73.9316025, count: 1}, {lat: 40.80447, lng:-73.9247635, count: 0}, {lat: 40.80447, lng:-73.9179245, count: 0}, {lat: 40.80447, lng:-73.9110855, count: 0}, {lat: 40.80447, lng:-73.8974075, count: 0}, {lat: 40.80447, lng:-73.8837295, count: 0}, {lat: 40.80447, lng:-73.8905685, count: 0}, {lat: 40.80447, lng:-73.8768905, count: 1}, {lat: 40.80447, lng:-73.9042465, count: 2}, {lat: 40.808964, lng:-74.0478655, count: 0}, {lat: 40.808964, lng:-74.0410265, count: 0}, {lat: 40.808964, lng:-74.0341875, count: 0}, {lat: 40.808964, lng:-74.0273485, count: 0}, {lat: 40.808964, lng:-74.0136705, count: 1}, {lat: 40.808964, lng:-74.0205095, count: 0}, {lat: 40.808964, lng:-74.0068315, count: 0}, {lat: 40.808964, lng:-73.9794755, count: 2}, {lat: 40.808964, lng:-73.9863145, count: 0}, {lat: 40.808964, lng:-73.9726365, count: 0}, {lat: 40.808964, lng:-73.9657975, count: 18}, {lat: 40.808964, lng:-73.9931535, count: 0}, {lat: 40.808964, lng:-73.9589585, count: 8}, {lat: 40.808964, lng:-73.9999925, count: 0}, {lat: 40.808964, lng:-73.9521195, count: 4}, {lat: 40.808964, lng:-73.9452805, count: 1}, {lat: 40.808964, lng:-73.9384415, count: 0}, {lat: 40.808964, lng:-73.9316025, count: 1}, {lat: 40.808964, lng:-73.9247635, count: 0}, {lat: 40.808964, lng:-73.9110855, count: 0}, {lat: 40.808964, lng:-73.9042465, count: 0}, {lat: 40.808964, lng:-73.8905685, count: 0}, {lat: 40.808964, lng:-73.8974075, count: 0}, {lat: 40.808964, lng:-73.9179245, count: 0}, {lat: 40.808964, lng:-73.8837295, count: 0}, {lat: 40.808964, lng:-73.8768905, count: 0}]
    };
    
	
	// this is important, because if you set the data set too early, the latlng/pixel projection doesn't work
	google.maps.event.addListenerOnce(map, "idle", function(){
		heatmap.setDataSet(testData);
	});
};

</script>
</body>
</html>
